############################################
### Configuration file for amon
############################################

### All config options can be overridden by creating a file called
### /boot/solo/amon.conf which supercede any of the options below.

### To use: flash an SD-card.  Remove and re-insert.  Notice that partiton
### "soloboot" is available.  Copy your own overriding config options in
### there.  You only need to mention the options you want to override.

### system settings:
# FSTYPE="ext4" (NEVER say FAT16 or other here - wrong class)
# What type of file system do we want for the data partition (p3) 
FSTYPE="vfat"

# choose the name used to identify this system used in the filenames
# of the audio files. (Doesn't affect the hostname of the linux system)
SYSNAME="solo"

# path to directory to use for waveforms and other amon output.
AMONDATA="/mnt/sdcard/amondata"

# when should the memory-manager step in?
MINMEMFREE=100000

###audio settings:
DURATION="10"           # length of recordings in minutes
MAXDURATION="3600"      # maximum duration of recorded files.
CHANNELS="-c1"          # number of channels
SAMPLERATE="-r16000"    # sample rate
AUDIODEVICE="-D hw:1,0" # which microphone
AUDIOFORMAT="S16_LE"    # byteorder for each sample.

# keep a 60s buffer.  If disk writes are jittery, this helps.
# at 41100 Hz * 2-bytes * 60 seconds = 5Mbytes of ram used.
ABUFFER=" --buffer-time=20000000 "

# reboot - format is hh:mm (24 hour clock)
#NIGHTLYREBOOT="03:01"  # reboot just after three in the morning
NIGHTLYREBOOT="never"   # never force a reboot

# Configuration for Snowflake microphone TODO: move this to mics/
VOLUME="100%"

# Configuration for CLAC (Cirrus Logic Audio Card) # TODO: move all this below
# CLAC_AUDIO_SOURCE=linein
CLAC_AUDIO_SOURCE=dmic

# phantom power presents (1.7Volts?) on linein to power the microphone.
CLAC_PIP=on # BEWARE of this - sends power into your mic!

# there are 2 volume controls.
# experiments seem to indicate that:
# CLAC_VOL should be increased first.
# CLAC_DIG_VOL second - if you must.
# Units are as follows:
# CLAC_VOL=[0,31] representing [0dB->32db] in 1dB steps
# CLAC_DIG_VOL=[0,191] representing [-64dB->32dB] in 0.5dB steps (so 128 is 0dB)
CLAC_VOL=31
CLAC_DIG_VOL=160

#CLAC_SAMPLERATE="-r44100"
CLAC_SAMPLERATE="-r16000"

# CLAC has a problem with 1 channel recording (fixed in .asoundrc)
CLAC_CHANNELS="-c1"

### END of CLAC configuration.
